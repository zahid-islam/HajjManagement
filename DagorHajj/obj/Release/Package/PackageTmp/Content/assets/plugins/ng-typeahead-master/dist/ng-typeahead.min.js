var app;app=angular.module("ng-typeahead",[]),app.directive("ngTypeahead",function(e,n){return{restrict:"E",scope:{data:"=",delay:"=?",forceSelection:"=?",limit:"=?",startFilter:"=?",threshold:"=?",onBlur:"=?",onSelect:"=?",onType:"=?"},require:"?ngModel",transclude:!0,link:function(e,t,i,r){var l,o,s,a;return l={UP:38,DOWN:40,ENTER:13,TAB:9,ESC:27},s=e.search,a=void 0,o=!1,e.index=0,e.delay||(e.delay=0),e.placeholder=i.placeholder,void 0===e.startFilter&&(e.startFilter=!0),void 0===e.limit&&(e.limit=1/0),void 0===e.threshold&&(e.threshold=0),void 0===e.forceSelection&&(e.forceSelection=!1),e.$watch("search",function(n){return e.index=0,r.$setViewValue(n),n!==s?(o=!1,void 0!==n?(e.onType&&e.onType(e.search),e.showSuggestions=e.suggestions.length&&e.search&&e.search.length>e.threshold):void 0):void 0}),e.$onBlur=function(){return!o&&e.forceSelection&&(e.search=s),e.showSuggestions=!1},e.$onSelect=function(t){return a=!0,s=t.label,e.search=t.label,o=!0,e.onSelect&&e.onSelect(t),e.showSuggestions=!1,n(function(){return a=!1})},e.$onKeyDown=function(n){switch(n.keyCode){case l.UP:return e.index>0?e.index--:e.index=e.suggestions.length-1;case l.DOWN:return e.index<e.suggestions.length-1?e.index++:e.index=0;case l.ENTER:return e.$onSelect(e.suggestions[e.index]);case l.TAB:return e.$onSelect(e.suggestions[e.index]);case l.ESC:return e.showSuggestions=!1}}},template:'<input ng-model="search" placeholder="{{placeholder}}" ng-keydown="$onKeyDown($event)" ng-model-options="{ debounce: delay }" ng-blur="$onBlur()" class="ng-typeahead-input"/>\n<div class="ng-typeahead-wrapper">\n  <ul class="ng-typeahead-list" ng-show="showSuggestions">\n    <li class="ng-typeahead-list-item" ng-repeat="item in suggestions = (data | filter:search | startsWith:search:startFilter |limitTo: limit | highlight:search)" ng-mousedown="$onSelect(item)" ng-class="{\'active\': $index == index}" ng-bind-html="item.html"></li>\n    </ul>\n</div>\n<div ng-transclude>'}}),app.filter("startsWith",function(){var e;return e=function(e,n){return e&&n?0===e.toLowerCase().indexOf(n.toLowerCase()):void 0},function(n,t,i){var r;return i?(r=[],angular.forEach(n,function(n){return e(n.label,t)?r.push(n):void 0}),r):n}}),app.filter("highlight",function(e){return function(n,t){return angular.forEach(n,function(n){var i,r,l,o;return t?(o="("+t.split(/\ /).join(" |")+"|"+t.split(/\ /).join("|")+")",i=new RegExp(o,"gi"),l=n.label.slice(t.length),o.length&&(r=n.label.slice(0,t.length).replace(i,'<span class="ng-typeahead-highlight">$1</span>')),n.html=e.trustAsHtml(r+l)):void 0}),n}});